<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Carousel</title>
  <style>
    .maindiv {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100vh;
      background-color: rgb(229, 215, 250);
    }
    #carousel {
      overflow: hidden;
      width: 60vw;
      background-color: rgb(247, 243, 243);
    }
    .carousel-wrapper {
      display: flex;
      transition: transform 0.8s cubic-bezier(0.25, 1.5, 0.5, 1);
    }
    .carousel-item {
      width: 50%;
      margin: 0 20px;
      transition: all 0.5s ease-in-out;
      border-radius: 24px;
      flex-shrink: 0;
      height: 300px;
      opacity: 0.6;
      transform: scale(0.9);
    }
    .carousel-item.active {
      transform: scale(1.1);
      opacity: 1;
      z-index: 1;
    }
    #map {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
    }
    .clone {
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="maindiv">
    <div id="map">
      <div id="carousel">
        <div class="carousel-wrapper" id="carouselWrapper">
          <img src="/src/assets/1341740.jpeg" alt="Image 1" class="carousel-item" />
          <img src="/src/assets/1350069.jpeg" alt="Image 2" class="carousel-item" />
          <img src="/src/assets/476288.jpg" alt="Image 3" class="carousel-item" />
          <img src="/src/assets/485812.jpg" alt="Image 4" class="carousel-item" />
          <img src="/src/assets/548306.jpg" alt="Image 5" class="carousel-item" />
          <img src="/src/assets/1341740.jpeg" alt="Image 6" class="carousel-item" />
        </div>
      </div>
    </div>
  </div>

  <script>
    let currentIndex = 1;
    const carouselWrapper = document.getElementById("carouselWrapper");
    const items = document.querySelectorAll(".carousel-item");
    const totalItems = items.length;

    const firstClone = items[0].cloneNode(true);
    const lastClone = items[totalItems - 1].cloneNode(true);
    firstClone.classList.add("clone");
    lastClone.classList.add("clone");
    carouselWrapper.appendChild(firstClone);
    carouselWrapper.insertBefore(lastClone, items[0]);

    const allItems = document.querySelectorAll(".carousel-item");

    function updateCarousel() {
      allItems.forEach(item => item.classList.remove("active"));
      allItems[currentIndex].classList.add("active");

      const container = document.getElementById('carousel');
      const containerWidth = container.offsetWidth;
      const itemWidth = allItems[currentIndex].offsetWidth;
      const itemMargin = 40;
      const totalItemWidth = itemWidth + itemMargin;

      const centerOffset = (containerWidth - itemWidth) / 2;
      const offset = -(currentIndex * totalItemWidth) + centerOffset;
      
      carouselWrapper.style.transform = `translateX(${offset}px)`;
    }

    function moveCarousel() {
      currentIndex++;
      carouselWrapper.style.transition = "transform 0.8s cubic-bezier(0.25, 1.5, 0.5, 1)";
      updateCarousel();

      if (currentIndex === allItems.length - 1) {
        setTimeout(() => {
          carouselWrapper.style.transition = "none";
          currentIndex = 1;
          updateCarousel();
          setTimeout(() => {
            carouselWrapper.style.transition = "transform 0.8s cubic-bezier(0.25, 1.5, 0.5, 1)";
          }, 50);
        }, 800);
      }
    }

    updateCarousel();
    setInterval(moveCarousel, 1000);

    window.addEventListener('resize', updateCarousel);
  </script>
</body>
</html>